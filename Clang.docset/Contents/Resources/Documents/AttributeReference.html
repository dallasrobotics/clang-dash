<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Attributes in Clang &mdash; Clang 3.7 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Clang 3.7 documentation" href="index.html" />
    <link rel="next" title="Cross-compilation using Clang" href="CrossCompilation.html" />
    <link rel="prev" title="Objective-C Automatic Reference Counting (ARC)" href="AutomaticReferenceCounting.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>Clang 3.7 documentation</span></a></h1>
        <h2 class="heading"><span>Attributes in Clang</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="AutomaticReferenceCounting.html">Objective-C Automatic Reference Counting (ARC)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="CrossCompilation.html">Cross-compilation using Clang</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="attributes-in-clang">
<h1>Attributes in Clang<a class="headerlink" href="#attributes-in-clang" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id70">Introduction</a></li>
<li><a class="reference internal" href="#amd-gpu-register-attributes" id="id71">AMD GPU Register Attributes</a><ul>
<li><a class="reference internal" href="#amdgpu-num-sgpr" id="id72">amdgpu_num_sgpr</a></li>
<li><a class="reference internal" href="#amdgpu-num-vgpr" id="id73">amdgpu_num_vgpr</a></li>
</ul>
</li>
<li><a class="reference internal" href="#function-attributes" id="id74">Function Attributes</a><ul>
<li><a class="reference internal" href="#interrupt" id="id75">interrupt</a></li>
<li><a class="reference internal" href="#acquire-capability-acquire-shared-capability-clang-acquire-capability-clang-acquire-shared-capability" id="id76">acquire_capability (acquire_shared_capability, clang::acquire_capability, clang::acquire_shared_capability)</a></li>
<li><a class="reference internal" href="#assert-capability-assert-shared-capability-clang-assert-capability-clang-assert-shared-capability" id="id77">assert_capability (assert_shared_capability, clang::assert_capability, clang::assert_shared_capability)</a></li>
<li><a class="reference internal" href="#assume-aligned-gnu-assume-aligned" id="id78">assume_aligned (gnu::assume_aligned)</a></li>
<li><a class="reference internal" href="#availability" id="id79">availability</a></li>
<li><a class="reference internal" href="#noreturn" id="id80">_Noreturn</a></li>
<li><a class="reference internal" href="#id1" id="id81">noreturn</a></li>
<li><a class="reference internal" href="#carries-dependency" id="id82">carries_dependency</a></li>
<li><a class="reference internal" href="#enable-if" id="id83">enable_if</a></li>
<li><a class="reference internal" href="#flatten-gnu-flatten" id="id84">flatten (gnu::flatten)</a></li>
<li><a class="reference internal" href="#format-gnu-format" id="id85">format (gnu::format)</a></li>
<li><a class="reference internal" href="#noduplicate-clang-noduplicate" id="id86">noduplicate (clang::noduplicate)</a></li>
<li><a class="reference internal" href="#no-sanitize-clang-no-sanitize" id="id87">no_sanitize (clang::no_sanitize)</a></li>
<li><a class="reference internal" href="#no-sanitize-address-no-address-safety-analysis-gnu-no-address-safety-analysis-gnu-no-sanitize-address" id="id88">no_sanitize_address (no_address_safety_analysis, gnu::no_address_safety_analysis, gnu::no_sanitize_address)</a></li>
<li><a class="reference internal" href="#no-sanitize-thread" id="id89">no_sanitize_thread</a></li>
<li><a class="reference internal" href="#no-sanitize-memory" id="id90">no_sanitize_memory</a></li>
<li><a class="reference internal" href="#no-split-stack-gnu-no-split-stack" id="id91">no_split_stack (gnu::no_split_stack)</a></li>
<li><a class="reference internal" href="#objc-boxable" id="id92">objc_boxable</a></li>
<li><a class="reference internal" href="#objc-method-family" id="id93">objc_method_family</a></li>
<li><a class="reference internal" href="#objc-requires-super" id="id94">objc_requires_super</a></li>
<li><a class="reference internal" href="#objc-runtime-name" id="id95">objc_runtime_name</a></li>
<li><a class="reference internal" href="#optnone-clang-optnone" id="id96">optnone (clang::optnone)</a></li>
<li><a class="reference internal" href="#overloadable" id="id97">overloadable</a></li>
<li><a class="reference internal" href="#release-capability-release-shared-capability-clang-release-capability-clang-release-shared-capability" id="id98">release_capability (release_shared_capability, clang::release_capability, clang::release_shared_capability)</a></li>
<li><a class="reference internal" href="#target-gnu-target" id="id99">target (gnu::target)</a></li>
<li><a class="reference internal" href="#try-acquire-capability-try-acquire-shared-capability-clang-try-acquire-capability-clang-try-acquire-shared-capability" id="id100">try_acquire_capability (try_acquire_shared_capability, clang::try_acquire_capability, clang::try_acquire_shared_capability)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#variable-attributes" id="id101">Variable Attributes</a><ul>
<li><a class="reference internal" href="#init-seg" id="id102">init_seg</a></li>
<li><a class="reference internal" href="#section-gnu-section-declspec-allocate" id="id103">section (gnu::section, __declspec(allocate))</a></li>
<li><a class="reference internal" href="#tls-model-gnu-tls-model" id="id104">tls_model (gnu::tls_model)</a></li>
<li><a class="reference internal" href="#thread" id="id105">thread</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-attributes" id="id106">Type Attributes</a><ul>
<li><a class="reference internal" href="#align-value" id="id107">align_value</a></li>
<li><a class="reference internal" href="#flag-enum" id="id108">flag_enum</a></li>
<li><a class="reference internal" href="#single-inhertiance-multiple-inheritance-virtual-inheritance" id="id109">__single_inhertiance, __multiple_inheritance, __virtual_inheritance</a></li>
<li><a class="reference internal" href="#novtable" id="id110">novtable</a></li>
</ul>
</li>
<li><a class="reference internal" href="#statement-attributes" id="id111">Statement Attributes</a><ul>
<li><a class="reference internal" href="#fallthrough-clang-fallthrough" id="id112">fallthrough (clang::fallthrough)</a></li>
<li><a class="reference internal" href="#pragma-clang-loop" id="id113">#pragma clang loop</a></li>
<li><a class="reference internal" href="#pragma-unroll-pragma-nounroll" id="id114">#pragma unroll, #pragma nounroll</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calling-conventions" id="id115">Calling Conventions</a><ul>
<li><a class="reference internal" href="#fastcall-gnu-fastcall-fastcall-fastcall" id="id116">fastcall (gnu::fastcall, __fastcall, _fastcall)</a></li>
<li><a class="reference internal" href="#ms-abi-gnu-ms-abi" id="id117">ms_abi (gnu::ms_abi)</a></li>
<li><a class="reference internal" href="#pcs-gnu-pcs" id="id118">pcs (gnu::pcs)</a></li>
<li><a class="reference internal" href="#regparm-gnu-regparm" id="id119">regparm (gnu::regparm)</a></li>
<li><a class="reference internal" href="#stdcall-gnu-stdcall-stdcall-stdcall" id="id120">stdcall (gnu::stdcall, __stdcall, _stdcall)</a></li>
<li><a class="reference internal" href="#thiscall-gnu-thiscall-thiscall-thiscall" id="id121">thiscall (gnu::thiscall, __thiscall, _thiscall)</a></li>
<li><a class="reference internal" href="#vectorcall-vectorcall-vectorcall" id="id122">vectorcall (__vectorcall, _vectorcall)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#consumed-annotation-checking" id="id123">Consumed Annotation Checking</a><ul>
<li><a class="reference internal" href="#callable-when" id="id124">callable_when</a></li>
<li><a class="reference internal" href="#consumable" id="id125">consumable</a></li>
<li><a class="reference internal" href="#param-typestate" id="id126">param_typestate</a></li>
<li><a class="reference internal" href="#return-typestate" id="id127">return_typestate</a></li>
<li><a class="reference internal" href="#set-typestate" id="id128">set_typestate</a></li>
<li><a class="reference internal" href="#test-typestate" id="id129">test_typestate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-safety-checking" id="id130">Type Safety Checking</a><ul>
<li><a class="reference internal" href="#argument-with-type-tag" id="id131">argument_with_type_tag</a></li>
<li><a class="reference internal" href="#pointer-with-type-tag" id="id132">pointer_with_type_tag</a></li>
<li><a class="reference internal" href="#type-tag-for-datatype" id="id133">type_tag_for_datatype</a></li>
</ul>
</li>
<li><a class="reference internal" href="#opencl-address-spaces" id="id134">OpenCL Address Spaces</a><ul>
<li><a class="reference internal" href="#constant-constant" id="id135">__constant(constant)</a></li>
<li><a class="reference internal" href="#generic-generic" id="id136">__generic(generic)</a></li>
<li><a class="reference internal" href="#global-global" id="id137">__global(global)</a></li>
<li><a class="reference internal" href="#local-local" id="id138">__local(local)</a></li>
<li><a class="reference internal" href="#private-private" id="id139">__private(private)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nullability-attributes" id="id140">Nullability Attributes</a><ul>
<li><a class="reference internal" href="#nonnull" id="id141">nonnull</a></li>
<li><a class="reference internal" href="#returns-nonnull" id="id142">returns_nonnull</a></li>
<li><a class="reference internal" href="#id4" id="id143">_Nonnull</a></li>
<li><a class="reference internal" href="#null-unspecified" id="id144">_Null_unspecified</a></li>
<li><a class="reference internal" href="#nullable" id="id145">_Nullable</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id70">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This page lists the attributes currently supported by Clang.</p>
</div>
<div class="section" id="amd-gpu-register-attributes">
<h2><a class="toc-backref" href="#id71">AMD GPU Register Attributes</a><a class="headerlink" href="#amd-gpu-register-attributes" title="Permalink to this headline">¶</a></h2>
<p>Clang supports attributes for controlling register usage on AMD GPU
targets. These attributes may be attached to a kernel function
definition and is an optimization hint to the backend for the maximum
number of registers to use. This is useful in cases where register
limited occupancy is known to be an important factor for the
performance for the kernel.</p>
<p>The semantics are as follows:</p>
<ul class="simple">
<li>The backend will attempt to limit the number of used registers to
the specified value, but the exact number used is not
guaranteed. The number used may be rounded up to satisfy the
allocation requirements or ABI constraints of the subtarget. For
example, on Southern Islands VGPRs may only be allocated in
increments of 4, so requesting a limit of 39 VGPRs will really
attempt to use up to 40. Requesting more registers than the
subtarget supports will truncate to the maximum allowed. The backend
may also use fewer registers than requested whenever possible.</li>
<li>0 implies the default no limit on register usage.</li>
<li>Ignored on older VLIW subtargets which did not have separate scalar
and vector registers, R600 through Northern Islands.</li>
</ul>
<div class="section" id="amdgpu-num-sgpr">
<h3><a class="toc-backref" href="#id72">amdgpu_num_sgpr</a><a class="headerlink" href="#amdgpu-num-sgpr" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id5">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Clang supports the
<code class="docutils literal"><span class="pre">__attribute__((amdgpu_num_sgpr(&lt;num_registers&gt;)))</span></code> attribute on AMD
Southern Islands GPUs and later for controlling the number of scalar
registers. A typical value would be between 8 and 104 in increments of
8.</p>
<p>Due to common instruction constraints, an additional 2-4 SGPRs are
typically required for internal use depending on features used. This
value is a hint for the total number of SGPRs to use, and not the
number of user SGPRs, so no special consideration needs to be given
for these.</p>
</div>
<div class="section" id="amdgpu-num-vgpr">
<h3><a class="toc-backref" href="#id73">amdgpu_num_vgpr</a><a class="headerlink" href="#amdgpu-num-vgpr" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id6">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Clang supports the
<code class="docutils literal"><span class="pre">__attribute__((amdgpu_num_vgpr(&lt;num_registers&gt;)))</span></code> attribute on AMD
Southern Islands GPUs and later for controlling the number of vector
registers. A typical value would be between 4 and 256 in increments
of 4.</p>
</div>
</div>
<div class="section" id="function-attributes">
<h2><a class="toc-backref" href="#id74">Function Attributes</a><a class="headerlink" href="#function-attributes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="interrupt">
<h3><a class="toc-backref" href="#id75">interrupt</a><a class="headerlink" href="#interrupt" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id7">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Clang supports the GNU style <code class="docutils literal"><span class="pre">__attribute__((interrupt(&quot;TYPE&quot;)))</span></code> attribute on
ARM targets. This attribute may be attached to a function definition and
instructs the backend to generate appropriate function entry/exit code so that
it can be used directly as an interrupt service routine.</p>
<p>The parameter passed to the interrupt attribute is optional, but if
provided it must be a string literal with one of the following values: &#8220;IRQ&#8221;,
&#8220;FIQ&#8221;, &#8220;SWI&#8221;, &#8220;ABORT&#8221;, &#8220;UNDEF&#8221;.</p>
<p>The semantics are as follows:</p>
<ul>
<li><p class="first">If the function is AAPCS, Clang instructs the backend to realign the stack to
8 bytes on entry. This is a general requirement of the AAPCS at public
interfaces, but may not hold when an exception is taken. Doing this allows
other AAPCS functions to be called.</p>
</li>
<li><p class="first">If the CPU is M-class this is all that needs to be done since the architecture
itself is designed in such a way that functions obeying the normal AAPCS ABI
constraints are valid exception handlers.</p>
</li>
<li><p class="first">If the CPU is not M-class, the prologue and epilogue are modified to save all
non-banked registers that are used, so that upon return the user-mode state
will not be corrupted. Note that to avoid unnecessary overhead, only
general-purpose (integer) registers are saved in this way. If VFP operations
are needed, that state must be saved manually.</p>
<p>Specifically, interrupt kinds other than &#8220;FIQ&#8221; will save all core registers
except &#8220;lr&#8221; and &#8220;sp&#8221;. &#8220;FIQ&#8221; interrupts will save r0-r7.</p>
</li>
<li><p class="first">If the CPU is not M-class, the return instruction is changed to one of the
canonical sequences permitted by the architecture for exception return. Where
possible the function itself will make the necessary &#8220;lr&#8221; adjustments so that
the &#8220;preferred return address&#8221; is selected.</p>
<p>Unfortunately the compiler is unable to make this guarantee for an &#8220;UNDEF&#8221;
handler, where the offset from &#8220;lr&#8221; to the preferred return address depends on
the execution state of the code which generated the exception. In this case
a sequence equivalent to &#8220;movs pc, lr&#8221; will be used.</p>
</li>
</ul>
</div>
<div class="section" id="acquire-capability-acquire-shared-capability-clang-acquire-capability-clang-acquire-shared-capability">
<h3><a class="toc-backref" href="#id76">acquire_capability (acquire_shared_capability, clang::acquire_capability, clang::acquire_shared_capability)</a><a class="headerlink" href="#acquire-capability-acquire-shared-capability-clang-acquire-capability-clang-acquire-shared-capability" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id8">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Marks a function as acquiring a capability.</p>
</div>
<div class="section" id="assert-capability-assert-shared-capability-clang-assert-capability-clang-assert-shared-capability">
<h3><a class="toc-backref" href="#id77">assert_capability (assert_shared_capability, clang::assert_capability, clang::assert_shared_capability)</a><a class="headerlink" href="#assert-capability-assert-shared-capability-clang-assert-capability-clang-assert-shared-capability" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id9">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Marks a function that dynamically tests whether a capability is held, and halts
the program if it is not held.</p>
</div>
<div class="section" id="assume-aligned-gnu-assume-aligned">
<h3><a class="toc-backref" href="#id78">assume_aligned (gnu::assume_aligned)</a><a class="headerlink" href="#assume-aligned-gnu-assume-aligned" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id10">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Use <code class="docutils literal"><span class="pre">__attribute__((assume_aligned(&lt;alignment&gt;[,&lt;offset&gt;]))</span></code> on a function
declaration to specify that the return value of the function (which must be a
pointer type) has the specified offset, in bytes, from an address with the
specified alignment. The offset is taken to be zero if omitted.</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="c1">// The returned pointer value has 32-byte alignment.</span>
<span class="kt">void</span> <span class="o">*</span><span class="nf">a</span><span class="p">()</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">assume_aligned</span> <span class="p">(</span><span class="mi">32</span><span class="p">)));</span>

<span class="c1">// The returned pointer value is 4 bytes greater than an address having</span>
<span class="c1">// 32-byte alignment.</span>
<span class="kt">void</span> <span class="o">*</span><span class="nf">b</span><span class="p">()</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">assume_aligned</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">4</span><span class="p">)));</span>
</pre></div>
</div>
<p>Note that this attribute provides information to the compiler regarding a
condition that the code already ensures is true. It does not cause the compiler
to enforce the provided alignment assumption.</p>
</div>
<div class="section" id="availability">
<h3><a class="toc-backref" href="#id79">availability</a><a class="headerlink" href="#availability" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id11">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">availability</span></code> attribute can be placed on declarations to describe the
lifecycle of that declaration relative to operating system versions.  Consider
the function declaration for a hypothetical function <code class="docutils literal"><span class="pre">f</span></code>:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.4</span><span class="p">,</span><span class="n">deprecated</span><span class="o">=</span><span class="mf">10.6</span><span class="p">,</span><span class="n">obsoleted</span><span class="o">=</span><span class="mf">10.7</span><span class="p">)));</span>
</pre></div>
</div>
<p>The availability attribute states that <code class="docutils literal"><span class="pre">f</span></code> was introduced in Mac OS X 10.4,
deprecated in Mac OS X 10.6, and obsoleted in Mac OS X 10.7.  This information
is used by Clang to determine when it is safe to use <code class="docutils literal"><span class="pre">f</span></code>: for example, if
Clang is instructed to compile code for Mac OS X 10.5, a call to <code class="docutils literal"><span class="pre">f()</span></code>
succeeds.  If Clang is instructed to compile code for Mac OS X 10.6, the call
succeeds but Clang emits a warning specifying that the function is deprecated.
Finally, if Clang is instructed to compile code for Mac OS X 10.7, the call
fails because <code class="docutils literal"><span class="pre">f()</span></code> is no longer available.</p>
<p>The availability attribute is a comma-separated list starting with the
platform name and then including clauses specifying important milestones in the
declaration&#8217;s lifetime (in any order) along with additional information.  Those
clauses can be:</p>
<dl class="docutils">
<dt>introduced=<em>version</em></dt>
<dd>The first version in which this declaration was introduced.</dd>
<dt>deprecated=<em>version</em></dt>
<dd>The first version in which this declaration was deprecated, meaning that
users should migrate away from this API.</dd>
<dt>obsoleted=<em>version</em></dt>
<dd>The first version in which this declaration was obsoleted, meaning that it
was removed completely and can no longer be used.</dd>
<dt>unavailable</dt>
<dd>This declaration is never available on this platform.</dd>
<dt>message=<em>string-literal</em></dt>
<dd>Additional message text that Clang will provide when emitting a warning or
error about use of a deprecated or obsoleted declaration.  Useful to direct
users to replacement APIs.</dd>
</dl>
<p>Multiple availability attributes can be placed on a declaration, which may
correspond to different platforms.  Only the availability attribute with the
platform corresponding to the target platform will be used; any others will be
ignored.  If no availability attribute specifies availability for the current
target platform, the availability attributes are ignored.  Supported platforms
are:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">ios</span></code></dt>
<dd>Apple&#8217;s iOS operating system.  The minimum deployment target is specified by
the <code class="docutils literal"><span class="pre">-mios-version-min=*version*</span></code> or <code class="docutils literal"><span class="pre">-miphoneos-version-min=*version*</span></code>
command-line arguments.</dd>
<dt><code class="docutils literal"><span class="pre">macosx</span></code></dt>
<dd>Apple&#8217;s Mac OS X operating system.  The minimum deployment target is
specified by the <code class="docutils literal"><span class="pre">-mmacosx-version-min=*version*</span></code> command-line argument.</dd>
</dl>
<p>A declaration can be used even when deploying back to a platform version prior
to when the declaration was introduced.  When this happens, the declaration is
<a class="reference external" href="https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPFrameworks/Concepts/WeakLinking.html">weakly linked</a>,
as if the <code class="docutils literal"><span class="pre">weak_import</span></code> attribute were added to the declaration.  A
weakly-linked declaration may or may not be present a run-time, and a program
can determine whether the declaration is present by checking whether the
address of that declaration is non-NULL.</p>
<p>If there are multiple declarations of the same entity, the availability
attributes must either match on a per-platform basis or later
declarations must not have availability attributes for that
platform. For example:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">g</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.4</span><span class="p">)));</span>
<span class="kt">void</span> <span class="nf">g</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.4</span><span class="p">)));</span> <span class="c1">// okay, matches</span>
<span class="kt">void</span> <span class="nf">g</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">ios</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)));</span> <span class="c1">// okay, adds a new platform</span>
<span class="kt">void</span> <span class="nf">g</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span> <span class="c1">// okay, inherits both macosx and ios availability from above.</span>
<span class="kt">void</span> <span class="nf">g</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.5</span><span class="p">)));</span> <span class="c1">// error: mismatch</span>
</pre></div>
</div>
<p>When one method overrides another, the overriding method can be more widely available than the overridden method, e.g.,:</p>
<div class="highlight-objc"><div class="highlight"><pre><span class="k">@interface</span> <span class="nc">A</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">method</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.4</span><span class="p">)));</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">method2</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.4</span><span class="p">)));</span>
<span class="k">@end</span>

<span class="k">@interface</span> <span class="nc">B</span> : <span class="nc">A</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">method</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.3</span><span class="p">)));</span> <span class="c1">// okay: method moved into base class later</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">method</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">availability</span><span class="p">(</span><span class="n">macosx</span><span class="p">,</span><span class="n">introduced</span><span class="o">=</span><span class="mf">10.5</span><span class="p">)));</span> <span class="c1">// error: this method was available via the base class in 10.4</span>
<span class="k">@end</span>
</pre></div>
</div>
</div>
<div class="section" id="noreturn">
<h3><a class="toc-backref" href="#id80">_Noreturn</a><a class="headerlink" href="#noreturn" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id12">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>A function declared as <code class="docutils literal"><span class="pre">_Noreturn</span></code> shall not return to its caller. The
compiler will generate a diagnostic for a function declared as <code class="docutils literal"><span class="pre">_Noreturn</span></code>
that appears to be capable of returning to its caller.</p>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id81">noreturn</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id13">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>A function declared as <code class="docutils literal"><span class="pre">[[noreturn]]</span></code> shall not return to its caller. The
compiler will generate a diagnostic for a function declared as <code class="docutils literal"><span class="pre">[[noreturn]]</span></code>
that appears to be capable of returning to its caller.</p>
</div>
<div class="section" id="carries-dependency">
<h3><a class="toc-backref" href="#id82">carries_dependency</a><a class="headerlink" href="#carries-dependency" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id14">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">carries_dependency</span></code> attribute specifies dependency propagation into and
out of functions.</p>
<p>When specified on a function or Objective-C method, the <code class="docutils literal"><span class="pre">carries_dependency</span></code>
attribute means that the return value carries a dependency out of the function,
so that the implementation need not constrain ordering upon return from that
function. Implementations of the function and its caller may choose to preserve
dependencies instead of emitting memory ordering instructions such as fences.</p>
<p>Note, this attribute does not change the meaning of the program, but may result
in generation of more efficient code.</p>
</div>
<div class="section" id="enable-if">
<h3><a class="toc-backref" href="#id83">enable_if</a><a class="headerlink" href="#enable-if" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id15">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some features of this attribute are experimental. The meaning of
multiple enable_if attributes on a single declaration is subject to change in
a future version of clang. Also, the ABI is not standardized and the name
mangling may change in future versions. To avoid that, use asm labels.</p>
</div>
<p>The <code class="docutils literal"><span class="pre">enable_if</span></code> attribute can be placed on function declarations to control
which overload is selected based on the values of the function&#8217;s arguments.
When combined with the <code class="docutils literal"><span class="pre">overloadable</span></code> attribute, this feature is also
available in C.</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">isdigit</span><span class="p">(</span><span class="kt">int</span> <span class="n">c</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">isdigit</span><span class="p">(</span><span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">enable_if</span><span class="p">(</span><span class="n">c</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">c</span> <span class="o">&gt;</span> <span class="mi">255</span><span class="p">,</span> <span class="s">&quot;chosen when &#39;c&#39; is out of range&quot;</span><span class="p">)))</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">unavailable</span><span class="p">(</span><span class="s">&quot;&#39;c&#39; must have the value of an unsigned char or EOF&quot;</span><span class="p">)));</span>

<span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">char</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">isdigit</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
  <span class="n">isdigit</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
  <span class="n">isdigit</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>  <span class="c1">// results in a compile-time error.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The enable_if attribute takes two arguments, the first is an expression written
in terms of the function parameters, the second is a string explaining why this
overload candidate could not be selected to be displayed in diagnostics. The
expression is part of the function signature for the purposes of determining
whether it is a redeclaration (following the rules used when determining
whether a C++ template specialization is ODR-equivalent), but is not part of
the type.</p>
<p>The enable_if expression is evaluated as if it were the body of a
bool-returning constexpr function declared with the arguments of the function
it is being applied to, then called with the parameters at the call site. If the
result is false or could not be determined through constant expression
evaluation, then this overload will not be chosen and the provided string may
be used in a diagnostic if the compile fails as a result.</p>
<p>Because the enable_if expression is an unevaluated context, there are no global
state changes, nor the ability to pass information from the enable_if
expression to the function body. For example, suppose we want calls to
strnlen(strbuf, maxlen) to resolve to strnlen_chk(strbuf, maxlen, size of
strbuf) only if the size of strbuf can be determined:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="n">__attribute__</span><span class="p">((</span><span class="n">always_inline</span><span class="p">))</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">size_t</span> <span class="n">strnlen</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">maxlen</span><span class="p">)</span>
  <span class="n">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">))</span>
  <span class="n">__attribute__</span><span class="p">((</span><span class="n">enable_if</span><span class="p">(</span><span class="n">__builtin_object_size</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">))),</span>
                           <span class="s">&quot;chosen when the buffer size is known but &#39;maxlen&#39; is not&quot;</span><span class="p">)))</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">strnlen_chk</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">maxlen</span><span class="p">,</span> <span class="n">__builtin_object_size</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Multiple enable_if attributes may be applied to a single declaration. In this
case, the enable_if expressions are evaluated from left to right in the
following manner. First, the candidates whose enable_if expressions evaluate to
false or cannot be evaluated are discarded. If the remaining candidates do not
share ODR-equivalent enable_if expressions, the overload resolution is
ambiguous. Otherwise, enable_if overload resolution continues with the next
enable_if attribute on the candidates that have not been discarded and have
remaining enable_if attributes. In this way, we pick the most specific
overload out of a number of viable overloads using enable_if.</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">f</span><span class="p">()</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">enable_if</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)));</span>  <span class="c1">// #1</span>
<span class="kt">void</span> <span class="nf">f</span><span class="p">()</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">enable_if</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)))</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">enable_if</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)));</span>  <span class="c1">// #2</span>

<span class="kt">void</span> <span class="nf">g</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">enable_if</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)));</span>  <span class="c1">// #1</span>
<span class="kt">void</span> <span class="nf">g</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">enable_if</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)))</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">enable_if</span><span class="p">(</span><span class="nb">true</span><span class="p">)));</span>  <span class="c1">// #2</span>
</pre></div>
</div>
<p>In this example, a call to f() is always resolved to #2, as the first enable_if
expression is ODR-equivalent for both declarations, but #1 does not have another
enable_if expression to continue evaluating, so the next round of evaluation has
only a single candidate. In a call to g(1, 1), the call is ambiguous even though
#2 has more enable_if attributes, because the first enable_if expressions are
not ODR-equivalent.</p>
<p>Query for this feature with <code class="docutils literal"><span class="pre">__has_attribute(enable_if)</span></code>.</p>
</div>
<div class="section" id="flatten-gnu-flatten">
<h3><a class="toc-backref" href="#id84">flatten (gnu::flatten)</a><a class="headerlink" href="#flatten-gnu-flatten" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id16">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id16" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">flatten</span></code> attribute causes calls within the attributed function to
be inlined unless it is impossible to do so, for example if the body of the
callee is unavailable or if the callee has the <code class="docutils literal"><span class="pre">noinline</span></code> attribute.</p>
</div>
<div class="section" id="format-gnu-format">
<h3><a class="toc-backref" href="#id85">format (gnu::format)</a><a class="headerlink" href="#format-gnu-format" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id17">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id17" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Clang supports the <code class="docutils literal"><span class="pre">format</span></code> attribute, which indicates that the function
accepts a <code class="docutils literal"><span class="pre">printf</span></code> or <code class="docutils literal"><span class="pre">scanf</span></code>-like format string and corresponding
arguments or a <code class="docutils literal"><span class="pre">va_list</span></code> that contains these arguments.</p>
<p>Please see <a class="reference external" href="http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html">GCC documentation about format attribute</a> to find details
about attribute syntax.</p>
<p>Clang implements two kinds of checks with this attribute.</p>
<ol class="arabic">
<li><p class="first">Clang checks that the function with the <code class="docutils literal"><span class="pre">format</span></code> attribute is called with
a format string that uses format specifiers that are allowed, and that
arguments match the format string.  This is the <code class="docutils literal"><span class="pre">-Wformat</span></code> warning, it is
on by default.</p>
</li>
<li><p class="first">Clang checks that the format string argument is a literal string.  This is
the <code class="docutils literal"><span class="pre">-Wformat-nonliteral</span></code> warning, it is off by default.</p>
<p>Clang implements this mostly the same way as GCC, but there is a difference
for functions that accept a <code class="docutils literal"><span class="pre">va_list</span></code> argument (for example, <code class="docutils literal"><span class="pre">vprintf</span></code>).
GCC does not emit <code class="docutils literal"><span class="pre">-Wformat-nonliteral</span></code> warning for calls to such
functions.  Clang does not warn if the format string comes from a function
parameter, where the function is annotated with a compatible attribute,
otherwise it warns.  For example:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">__attribute__</span><span class="p">((</span><span class="n">__format__</span> <span class="p">(</span><span class="n">__scanf__</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="kt">void</span> <span class="n">foo</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">s</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="p">...)</span> <span class="p">{</span>
  <span class="kt">va_list</span> <span class="n">ap</span><span class="p">;</span>
  <span class="n">va_start</span><span class="p">(</span><span class="n">ap</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>

  <span class="n">vprintf</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ap</span><span class="p">);</span> <span class="c1">// warning: format string is not a string literal</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this case we warn because <code class="docutils literal"><span class="pre">s</span></code> contains a format string for a
<code class="docutils literal"><span class="pre">scanf</span></code>-like function, but it is passed to a <code class="docutils literal"><span class="pre">printf</span></code>-like function.</p>
<p>If the attribute is removed, clang still warns, because the format string is
not a string literal.</p>
<p>Another example:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">__attribute__</span><span class="p">((</span><span class="n">__format__</span> <span class="p">(</span><span class="n">__printf__</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="kt">void</span> <span class="n">foo</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">s</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="p">...)</span> <span class="p">{</span>
  <span class="kt">va_list</span> <span class="n">ap</span><span class="p">;</span>
  <span class="n">va_start</span><span class="p">(</span><span class="n">ap</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>

  <span class="n">vprintf</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ap</span><span class="p">);</span> <span class="c1">// warning</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this case Clang does not warn because the format string <code class="docutils literal"><span class="pre">s</span></code> and
the corresponding arguments are annotated.  If the arguments are
incorrect, the caller of <code class="docutils literal"><span class="pre">foo</span></code> will receive a warning.</p>
</li>
</ol>
</div>
<div class="section" id="noduplicate-clang-noduplicate">
<h3><a class="toc-backref" href="#id86">noduplicate (clang::noduplicate)</a><a class="headerlink" href="#noduplicate-clang-noduplicate" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id18">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id18" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">noduplicate</span></code> attribute can be placed on function declarations to control
whether function calls to this function can be duplicated or not as a result of
optimizations. This is required for the implementation of functions with
certain special requirements, like the OpenCL &#8220;barrier&#8221; function, that might
need to be run concurrently by all the threads that are executing in lockstep
on the hardware. For example this attribute applied on the function
&#8220;nodupfunc&#8221; in the code below avoids that:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">nodupfunc</span><span class="p">()</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">noduplicate</span><span class="p">));</span>
<span class="c1">// Setting it as a C++11 attribute is also valid</span>
<span class="c1">// void nodupfunc() [[clang::noduplicate]];</span>
<span class="kt">void</span> <span class="nf">foo</span><span class="p">();</span>
<span class="kt">void</span> <span class="nf">bar</span><span class="p">();</span>

<span class="n">nodupfunc</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">foo</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>gets possibly modified by some optimizations into code similar to this:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">nodupfunc</span><span class="p">();</span>
  <span class="n">foo</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">nodupfunc</span><span class="p">();</span>
  <span class="n">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>where the call to &#8220;nodupfunc&#8221; is duplicated and sunk into the two branches
of the condition.</p>
</div>
<div class="section" id="no-sanitize-clang-no-sanitize">
<h3><a class="toc-backref" href="#id87">no_sanitize (clang::no_sanitize)</a><a class="headerlink" href="#no-sanitize-clang-no-sanitize" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id19">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id19" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Use the <code class="docutils literal"><span class="pre">no_sanitize</span></code> attribute on a function declaration to specify
that a particular instrumentation or set of instrumentations should not be
applied to that function. The attribute takes a list of string literals,
which have the same meaning as values accepted by the <code class="docutils literal"><span class="pre">-fno-sanitize=</span></code>
flag. For example, <code class="docutils literal"><span class="pre">__attribute__((no_sanitize(&quot;address&quot;,</span> <span class="pre">&quot;thread&quot;)))</span></code>
specifies that AddressSanitizer and ThreadSanitizer should not be applied
to the function.</p>
<p>See <a class="reference internal" href="UsersManual.html#controlling-code-generation"><span>Controlling Code Generation</span></a> for a
full list of supported sanitizer flags.</p>
</div>
<div class="section" id="no-sanitize-address-no-address-safety-analysis-gnu-no-address-safety-analysis-gnu-no-sanitize-address">
<h3><a class="toc-backref" href="#id88">no_sanitize_address (no_address_safety_analysis, gnu::no_address_safety_analysis, gnu::no_sanitize_address)</a><a class="headerlink" href="#no-sanitize-address-no-address-safety-analysis-gnu-no-address-safety-analysis-gnu-no-sanitize-address" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id20">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id20" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p id="langext-address-sanitizer">Use <code class="docutils literal"><span class="pre">__attribute__((no_sanitize_address))</span></code> on a function declaration to
specify that address safety instrumentation (e.g. AddressSanitizer) should
not be applied to that function.</p>
</div>
<div class="section" id="no-sanitize-thread">
<h3><a class="toc-backref" href="#id89">no_sanitize_thread</a><a class="headerlink" href="#no-sanitize-thread" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id21">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id21" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p id="langext-thread-sanitizer">Use <code class="docutils literal"><span class="pre">__attribute__((no_sanitize_thread))</span></code> on a function declaration to
specify that checks for data races on plain (non-atomic) memory accesses should
not be inserted by ThreadSanitizer. The function is still instrumented by the
tool to avoid false positives and provide meaningful stack traces.</p>
</div>
<div class="section" id="no-sanitize-memory">
<h3><a class="toc-backref" href="#id90">no_sanitize_memory</a><a class="headerlink" href="#no-sanitize-memory" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id22">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id22" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p id="langext-memory-sanitizer">Use <code class="docutils literal"><span class="pre">__attribute__((no_sanitize_memory))</span></code> on a function declaration to
specify that checks for uninitialized memory should not be inserted
(e.g. by MemorySanitizer). The function may still be instrumented by the tool
to avoid false positives in other places.</p>
</div>
<div class="section" id="no-split-stack-gnu-no-split-stack">
<h3><a class="toc-backref" href="#id91">no_split_stack (gnu::no_split_stack)</a><a class="headerlink" href="#no-split-stack-gnu-no-split-stack" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id23">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id23" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">no_split_stack</span></code> attribute disables the emission of the split stack
preamble for a particular function. It has no effect if <code class="docutils literal"><span class="pre">-fsplit-stack</span></code>
is not specified.</p>
</div>
<div class="section" id="objc-boxable">
<h3><a class="toc-backref" href="#id92">objc_boxable</a><a class="headerlink" href="#objc-boxable" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id24">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id24" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Structs and unions marked with the <code class="docutils literal"><span class="pre">objc_boxable</span></code> attribute can be used
with the Objective-C boxed expression syntax, <code class="docutils literal"><span class="pre">&#64;(...)</span></code>.</p>
<p><strong>Usage</strong>: <code class="docutils literal"><span class="pre">__attribute__((objc_boxable))</span></code>. This attribute
can only be placed on a declaration of a trivially-copyable struct or union:</p>
<div class="highlight-objc"><div class="highlight"><pre><span class="k">struct</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">objc_boxable</span><span class="p">))</span> <span class="n">some_struct</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">union</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">objc_boxable</span><span class="p">))</span> <span class="n">some_union</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
  <span class="kt">float</span> <span class="n">f</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">objc_boxable</span><span class="p">))</span> <span class="n">_some_struct</span> <span class="n">some_struct</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="n">some_struct</span> <span class="n">ss</span><span class="p">;</span>
<span class="bp">NSValue</span> <span class="o">*</span><span class="n">boxed</span> <span class="o">=</span> <span class="l">@(</span><span class="n">ss</span><span class="l">)</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="objc-method-family">
<h3><a class="toc-backref" href="#id93">objc_method_family</a><a class="headerlink" href="#objc-method-family" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id25">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id25" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Many methods in Objective-C have conventional meanings determined by their
selectors. It is sometimes useful to be able to mark a method as having a
particular conventional meaning despite not having the right selector, or as
not having the conventional meaning that its selector would suggest. For these
use cases, we provide an attribute to specifically describe the &#8220;method family&#8221;
that a method belongs to.</p>
<p><strong>Usage</strong>: <code class="docutils literal"><span class="pre">__attribute__((objc_method_family(X)))</span></code>, where <code class="docutils literal"><span class="pre">X</span></code> is one of
<code class="docutils literal"><span class="pre">none</span></code>, <code class="docutils literal"><span class="pre">alloc</span></code>, <code class="docutils literal"><span class="pre">copy</span></code>, <code class="docutils literal"><span class="pre">init</span></code>, <code class="docutils literal"><span class="pre">mutableCopy</span></code>, or <code class="docutils literal"><span class="pre">new</span></code>.  This
attribute can only be placed at the end of a method declaration:</p>
<div class="highlight-objc"><div class="highlight"><pre><span class="p">-</span> <span class="p">(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">initMyStringValue</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">objc_method_family</span><span class="p">(</span><span class="n">none</span><span class="p">)));</span>
</pre></div>
</div>
<p>Users who do not wish to change the conventional meaning of a method, and who
merely want to document its non-standard retain and release semantics, should
use the retaining behavior attributes (<code class="docutils literal"><span class="pre">ns_returns_retained</span></code>,
<code class="docutils literal"><span class="pre">ns_returns_not_retained</span></code>, etc).</p>
<p>Query for this feature with <code class="docutils literal"><span class="pre">__has_attribute(objc_method_family)</span></code>.</p>
</div>
<div class="section" id="objc-requires-super">
<h3><a class="toc-backref" href="#id94">objc_requires_super</a><a class="headerlink" href="#objc-requires-super" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id26">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id26" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Some Objective-C classes allow a subclass to override a particular method in a
parent class but expect that the overriding method also calls the overridden
method in the parent class. For these cases, we provide an attribute to
designate that a method requires a &#8220;call to <code class="docutils literal"><span class="pre">super</span></code>&#8221; in the overriding
method in the subclass.</p>
<p><strong>Usage</strong>: <code class="docutils literal"><span class="pre">__attribute__((objc_requires_super))</span></code>.  This attribute can only
be placed at the end of a method declaration:</p>
<div class="highlight-objc"><div class="highlight"><pre><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">foo</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">objc_requires_super</span><span class="p">));</span>
</pre></div>
</div>
<p>This attribute can only be applied the method declarations within a class, and
not a protocol.  Currently this attribute does not enforce any placement of
where the call occurs in the overriding method (such as in the case of
<code class="docutils literal"><span class="pre">-dealloc</span></code> where the call must appear at the end).  It checks only that it
exists.</p>
<p>Note that on both OS X and iOS that the Foundation framework provides a
convenience macro <code class="docutils literal"><span class="pre">NS_REQUIRES_SUPER</span></code> that provides syntactic sugar for this
attribute:</p>
<div class="highlight-objc"><div class="highlight"><pre><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">foo</span> <span class="n">NS_REQUIRES_SUPER</span><span class="p">;</span>
</pre></div>
</div>
<p>This macro is conditionally defined depending on the compiler&#8217;s support for
this attribute.  If the compiler does not support the attribute the macro
expands to nothing.</p>
<p>Operationally, when a method has this annotation the compiler will warn if the
implementation of an override in a subclass does not call super.  For example:</p>
<div class="highlight-objc"><div class="highlight"><pre><span class="nl">warning</span><span class="p">:</span> <span class="n">method</span> <span class="n">possibly</span> <span class="n">missing</span> <span class="n">a</span> <span class="p">[</span><span class="nb">super</span> <span class="n">AnnotMeth</span><span class="p">]</span> <span class="n">call</span>
<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">AnnotMeth</span><span class="p">{};</span>
                   <span class="o">^</span>
</pre></div>
</div>
</div>
<div class="section" id="objc-runtime-name">
<h3><a class="toc-backref" href="#id95">objc_runtime_name</a><a class="headerlink" href="#objc-runtime-name" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id27">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id27" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>By default, the Objective-C interface or protocol identifier is used
in the metadata name for that object. The <cite>objc_runtime_name</cite>
attribute allows annotated interfaces or protocols to use the
specified string argument in the object&#8217;s metadata name instead of the
default name.</p>
<p><strong>Usage</strong>: <code class="docutils literal"><span class="pre">__attribute__((objc_runtime_name(&quot;MyLocalName&quot;)))</span></code>.  This attribute
can only be placed before an &#64;protocol or &#64;interface declaration:</p>
<div class="highlight-objc"><div class="highlight"><pre><span class="n">__attribute__</span><span class="p">((</span><span class="n">objc_runtime_name</span><span class="p">(</span><span class="s">&quot;MyLocalName&quot;</span><span class="p">)))</span>
<span class="k">@interface</span> <span class="nc">Message</span>
<span class="k">@end</span>
</pre></div>
</div>
</div>
<div class="section" id="optnone-clang-optnone">
<h3><a class="toc-backref" href="#id96">optnone (clang::optnone)</a><a class="headerlink" href="#optnone-clang-optnone" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id28">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id28" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">optnone</span></code> attribute suppresses essentially all optimizations
on a function or method, regardless of the optimization level applied to
the compilation unit as a whole.  This is particularly useful when you
need to debug a particular function, but it is infeasible to build the
entire application without optimization.  Avoiding optimization on the
specified function can improve the quality of the debugging information
for that function.</p>
<p>This attribute is incompatible with the <code class="docutils literal"><span class="pre">always_inline</span></code> and <code class="docutils literal"><span class="pre">minsize</span></code>
attributes.</p>
</div>
<div class="section" id="overloadable">
<h3><a class="toc-backref" href="#id97">overloadable</a><a class="headerlink" href="#overloadable" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id29">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id29" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Clang provides support for C++ function overloading in C.  Function overloading
in C is introduced using the <code class="docutils literal"><span class="pre">overloadable</span></code> attribute.  For example, one
might provide several overloaded versions of a <code class="docutils literal"><span class="pre">tgsin</span></code> function that invokes
the appropriate standard function computing the sine of a value with <code class="docutils literal"><span class="pre">float</span></code>,
<code class="docutils literal"><span class="pre">double</span></code>, or <code class="docutils literal"><span class="pre">long</span> <span class="pre">double</span></code> precision:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;math.h&gt;</span>
<span class="kt">float</span> <span class="nf">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">))</span> <span class="n">tgsin</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">sinf</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="p">}</span>
<span class="kt">double</span> <span class="nf">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">))</span> <span class="n">tgsin</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="p">}</span>
<span class="kt">long</span> <span class="kt">double</span> <span class="nf">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">))</span> <span class="n">tgsin</span><span class="p">(</span><span class="kt">long</span> <span class="kt">double</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">sinl</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="p">}</span>
</pre></div>
</div>
<p>Given these declarations, one can call <code class="docutils literal"><span class="pre">tgsin</span></code> with a <code class="docutils literal"><span class="pre">float</span></code> value to
receive a <code class="docutils literal"><span class="pre">float</span></code> result, with a <code class="docutils literal"><span class="pre">double</span></code> to receive a <code class="docutils literal"><span class="pre">double</span></code> result,
etc.  Function overloading in C follows the rules of C++ function overloading
to pick the best overload given the call arguments, with a few C-specific
semantics:</p>
<ul class="simple">
<li>Conversion from <code class="docutils literal"><span class="pre">float</span></code> or <code class="docutils literal"><span class="pre">double</span></code> to <code class="docutils literal"><span class="pre">long</span> <span class="pre">double</span></code> is ranked as a
floating-point promotion (per C99) rather than as a floating-point conversion
(as in C++).</li>
<li>A conversion from a pointer of type <code class="docutils literal"><span class="pre">T*</span></code> to a pointer of type <code class="docutils literal"><span class="pre">U*</span></code> is
considered a pointer conversion (with conversion rank) if <code class="docutils literal"><span class="pre">T</span></code> and <code class="docutils literal"><span class="pre">U</span></code> are
compatible types.</li>
<li>A conversion from type <code class="docutils literal"><span class="pre">T</span></code> to a value of type <code class="docutils literal"><span class="pre">U</span></code> is permitted if <code class="docutils literal"><span class="pre">T</span></code>
and <code class="docutils literal"><span class="pre">U</span></code> are compatible types.  This conversion is given &#8220;conversion&#8221; rank.</li>
</ul>
<p>The declaration of <code class="docutils literal"><span class="pre">overloadable</span></code> functions is restricted to function
declarations and definitions.  Most importantly, if any function with a given
name is given the <code class="docutils literal"><span class="pre">overloadable</span></code> attribute, then all function declarations
and definitions with that name (and in that scope) must have the
<code class="docutils literal"><span class="pre">overloadable</span></code> attribute.  This rule even applies to redeclarations of
functions whose original declaration had the <code class="docutils literal"><span class="pre">overloadable</span></code> attribute, e.g.,</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">));</span>
<span class="kt">float</span> <span class="nf">f</span><span class="p">(</span><span class="kt">float</span><span class="p">);</span> <span class="c1">// error: declaration of &quot;f&quot; must have the &quot;overloadable&quot; attribute</span>

<span class="kt">int</span> <span class="nf">g</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">));</span>
<span class="kt">int</span> <span class="nf">g</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span> <span class="c1">// error: redeclaration of &quot;g&quot; must also have the &quot;overloadable&quot; attribute</span>
</pre></div>
</div>
<p>Functions marked <code class="docutils literal"><span class="pre">overloadable</span></code> must have prototypes.  Therefore, the
following code is ill-formed:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">h</span><span class="p">()</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">));</span> <span class="c1">// error: h does not have a prototype</span>
</pre></div>
</div>
<p>However, <code class="docutils literal"><span class="pre">overloadable</span></code> functions are allowed to use a ellipsis even if there
are no named parameters (as is permitted in C++).  This feature is particularly
useful when combined with the <code class="docutils literal"><span class="pre">unavailable</span></code> attribute:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">void</span> <span class="nf">honeypot</span><span class="p">(...)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">overloadable</span><span class="p">,</span> <span class="n">unavailable</span><span class="p">));</span> <span class="c1">// calling me is an error</span>
</pre></div>
</div>
<p>Functions declared with the <code class="docutils literal"><span class="pre">overloadable</span></code> attribute have their names mangled
according to the same rules as C++ function names.  For example, the three
<code class="docutils literal"><span class="pre">tgsin</span></code> functions in our motivating example get the mangled names
<code class="docutils literal"><span class="pre">_Z5tgsinf</span></code>, <code class="docutils literal"><span class="pre">_Z5tgsind</span></code>, and <code class="docutils literal"><span class="pre">_Z5tgsine</span></code>, respectively.  There are two
caveats to this use of name mangling:</p>
<ul class="simple">
<li>Future versions of Clang may change the name mangling of functions overloaded
in C, so you should not depend on an specific mangling.  To be completely
safe, we strongly urge the use of <code class="docutils literal"><span class="pre">static</span> <span class="pre">inline</span></code> with <code class="docutils literal"><span class="pre">overloadable</span></code>
functions.</li>
<li>The <code class="docutils literal"><span class="pre">overloadable</span></code> attribute has almost no meaning when used in C++,
because names will already be mangled and functions are already overloadable.
However, when an <code class="docutils literal"><span class="pre">overloadable</span></code> function occurs within an <code class="docutils literal"><span class="pre">extern</span> <span class="pre">&quot;C&quot;</span></code>
linkage specification, it&#8217;s name <em>will</em> be mangled in the same way as it
would in C.</li>
</ul>
<p>Query for this feature with <code class="docutils literal"><span class="pre">__has_extension(attribute_overloadable)</span></code>.</p>
</div>
<div class="section" id="release-capability-release-shared-capability-clang-release-capability-clang-release-shared-capability">
<h3><a class="toc-backref" href="#id98">release_capability (release_shared_capability, clang::release_capability, clang::release_shared_capability)</a><a class="headerlink" href="#release-capability-release-shared-capability-clang-release-capability-clang-release-shared-capability" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id30">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id30" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Marks a function as releasing a capability.</p>
</div>
<div class="section" id="target-gnu-target">
<h3><a class="toc-backref" href="#id99">target (gnu::target)</a><a class="headerlink" href="#target-gnu-target" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id31">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id31" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Clang supports the GNU style <code class="docutils literal"><span class="pre">__attribute__((target(&quot;OPTIONS&quot;)))</span></code> attribute.
This attribute may be attached to a function definition and instructs
the backend to use different code generation options than were passed on the
command line.</p>
<p>The current set of options correspond to the existing &#8220;subtarget features&#8221; for
the target with or without a &#8220;-mno-&#8221; in front corresponding to the absence
of the feature, as well as <code class="docutils literal"><span class="pre">arch=&quot;CPU&quot;</span></code> which will change the default &#8220;CPU&#8221;
for the function.</p>
<p>Example &#8220;subtarget features&#8221; from the x86 backend include: &#8220;mmx&#8221;, &#8220;sse&#8221;, &#8220;sse4.2&#8221;,
&#8220;avx&#8221;, &#8220;xop&#8221; and largely correspond to the machine specific options handled by
the front end.</p>
</div>
<div class="section" id="try-acquire-capability-try-acquire-shared-capability-clang-try-acquire-capability-clang-try-acquire-shared-capability">
<h3><a class="toc-backref" href="#id100">try_acquire_capability (try_acquire_shared_capability, clang::try_acquire_capability, clang::try_acquire_shared_capability)</a><a class="headerlink" href="#try-acquire-capability-try-acquire-shared-capability-clang-try-acquire-capability-clang-try-acquire-shared-capability" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id32">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id32" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Marks a function that attempts to acquire a capability. This function may fail to
actually acquire the capability; they accept a Boolean value determining
whether acquiring the capability means success (true), or failing to acquire
the capability means success (false).</p>
</div>
</div>
<div class="section" id="variable-attributes">
<h2><a class="toc-backref" href="#id101">Variable Attributes</a><a class="headerlink" href="#variable-attributes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="init-seg">
<h3><a class="toc-backref" href="#id102">init_seg</a><a class="headerlink" href="#init-seg" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id33">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id33" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
</tr>
</tbody>
</table>
<p>The attribute applied by <code class="docutils literal"><span class="pre">pragma</span> <span class="pre">init_seg()</span></code> controls the section into
which global initialization function pointers are emitted.  It is only
available with <code class="docutils literal"><span class="pre">-fms-extensions</span></code>.  Typically, this function pointer is
emitted into <code class="docutils literal"><span class="pre">.CRT$XCU</span></code> on Windows.  The user can change the order of
initialization by using a different section name with the same
<code class="docutils literal"><span class="pre">.CRT$XC</span></code> prefix and a suffix that sorts lexicographically before or
after the standard <code class="docutils literal"><span class="pre">.CRT$XCU</span></code> sections.  See the <a class="reference external" href="http://msdn.microsoft.com/en-us/library/7977wcck(v=vs.110).aspx">init_seg</a>
documentation on MSDN for more information.</p>
</div>
<div class="section" id="section-gnu-section-declspec-allocate">
<h3><a class="toc-backref" href="#id103">section (gnu::section, __declspec(allocate))</a><a class="headerlink" href="#section-gnu-section-declspec-allocate" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id34">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id34" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">section</span></code> attribute allows you to specify a specific section a
global variable or function should be in after translation.</p>
</div>
<div class="section" id="tls-model-gnu-tls-model">
<h3><a class="toc-backref" href="#id104">tls_model (gnu::tls_model)</a><a class="headerlink" href="#tls-model-gnu-tls-model" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id35">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id35" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">tls_model</span></code> attribute allows you to specify which thread-local storage
model to use. It accepts the following strings:</p>
<ul class="simple">
<li>global-dynamic</li>
<li>local-dynamic</li>
<li>initial-exec</li>
<li>local-exec</li>
</ul>
<p>TLS models are mutually exclusive.</p>
</div>
<div class="section" id="thread">
<h3><a class="toc-backref" href="#id105">thread</a><a class="headerlink" href="#thread" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id36">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id36" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">__declspec(thread)</span></code> attribute declares a variable with thread local
storage.  It is available under the <code class="docutils literal"><span class="pre">-fms-extensions</span></code> flag for MSVC
compatibility.  See the documentation for <a class="reference external" href="http://msdn.microsoft.com/en-us/library/9w1sdazb.aspx">__declspec(thread)</a> on MSDN.</p>
<p>In Clang, <code class="docutils literal"><span class="pre">__declspec(thread)</span></code> is generally equivalent in functionality to the
GNU <code class="docutils literal"><span class="pre">__thread</span></code> keyword.  The variable must not have a destructor and must have
a constant initializer, if any.  The attribute only applies to variables
declared with static storage duration, such as globals, class static data
members, and static locals.</p>
</div>
</div>
<div class="section" id="type-attributes">
<h2><a class="toc-backref" href="#id106">Type Attributes</a><a class="headerlink" href="#type-attributes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="align-value">
<h3><a class="toc-backref" href="#id107">align_value</a><a class="headerlink" href="#align-value" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id37">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id37" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The align_value attribute can be added to the typedef of a pointer type or the
declaration of a variable of pointer or reference type. It specifies that the
pointer will point to, or the reference will bind to, only objects with at
least the provided alignment. This alignment value must be some positive power
of 2.</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="k">typedef</span> <span class="kt">double</span> <span class="o">*</span> <span class="n">aligned_double_ptr</span> <span class="nf">__attribute__</span><span class="p">((</span><span class="n">align_value</span><span class="p">(</span><span class="mi">64</span><span class="p">)));</span>
<span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">double</span> <span class="o">&amp;</span> <span class="n">x</span>  <span class="n">__attribute__</span><span class="p">((</span><span class="n">align_value</span><span class="p">(</span><span class="mi">128</span><span class="p">)),</span>
         <span class="n">aligned_double_ptr</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>If the pointer value does not have the specified alignment at runtime, the
behavior of the program is undefined.</p>
</div>
<div class="section" id="flag-enum">
<h3><a class="toc-backref" href="#id108">flag_enum</a><a class="headerlink" href="#flag-enum" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id38">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id38" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>This attribute can be added to an enumerator to signal to the compiler that it
is intended to be used as a flag type. This will cause the compiler to assume
that the range of the type includes all of the values that you can get by
manipulating bits of the enumerator when issuing warnings.</p>
</div>
<div class="section" id="single-inhertiance-multiple-inheritance-virtual-inheritance">
<h3><a class="toc-backref" href="#id109">__single_inhertiance, __multiple_inheritance, __virtual_inheritance</a><a class="headerlink" href="#single-inhertiance-multiple-inheritance-virtual-inheritance" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id39">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id39" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>This collection of keywords is enabled under <code class="docutils literal"><span class="pre">-fms-extensions</span></code> and controls
the pointer-to-member representation used on <code class="docutils literal"><span class="pre">*-*-win32</span></code> targets.</p>
<p>The <code class="docutils literal"><span class="pre">*-*-win32</span></code> targets utilize a pointer-to-member representation which
varies in size and alignment depending on the definition of the underlying
class.</p>
<p>However, this is problematic when a forward declaration is only available and
no definition has been made yet.  In such cases, Clang is forced to utilize the
most general representation that is available to it.</p>
<p>These keywords make it possible to use a pointer-to-member representation other
than the most general one regardless of whether or not the definition will ever
be present in the current translation unit.</p>
<p>This family of keywords belong between the <code class="docutils literal"><span class="pre">class-key</span></code> and <code class="docutils literal"><span class="pre">class-name</span></code>:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="k">struct</span> <span class="n">__single_inheritance</span> <span class="n">S</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">S</span><span class="o">::*</span><span class="n">i</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">S</span> <span class="p">{};</span>
</pre></div>
</div>
<p>This keyword can be applied to class templates but only has an effect when used
on full specializations:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="p">,</span> <span class="k">typename</span> <span class="n">U</span><span class="o">&gt;</span> <span class="k">struct</span> <span class="n">__single_inheritance</span> <span class="n">A</span><span class="p">;</span> <span class="c1">// warning: inheritance model ignored on primary template</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span> <span class="k">struct</span> <span class="n">__multiple_inheritance</span> <span class="n">A</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">T</span><span class="o">&gt;</span><span class="p">;</span> <span class="c1">// warning: inheritance model ignored on partial specialization</span>
<span class="k">template</span> <span class="o">&lt;&gt;</span> <span class="k">struct</span> <span class="n">__single_inheritance</span> <span class="n">A</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">float</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p>Note that choosing an inheritance model less general than strictly necessary is
an error:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="k">struct</span> <span class="n">__multiple_inheritance</span> <span class="n">S</span><span class="p">;</span> <span class="c1">// error: inheritance model does not match definition</span>
<span class="kt">int</span> <span class="n">S</span><span class="o">::*</span><span class="n">i</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">S</span> <span class="p">{};</span>
</pre></div>
</div>
</div>
<div class="section" id="novtable">
<h3><a class="toc-backref" href="#id110">novtable</a><a class="headerlink" href="#novtable" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id40">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id40" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>This attribute can be added to a class declaration or definition to signal to
the compiler that constructors and destructors will not reference the virtual
function table.</p>
</div>
</div>
<div class="section" id="statement-attributes">
<h2><a class="toc-backref" href="#id111">Statement Attributes</a><a class="headerlink" href="#statement-attributes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fallthrough-clang-fallthrough">
<h3><a class="toc-backref" href="#id112">fallthrough (clang::fallthrough)</a><a class="headerlink" href="#fallthrough-clang-fallthrough" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id41">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id41" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">clang::fallthrough</span></code> attribute is used along with the
<code class="docutils literal"><span class="pre">-Wimplicit-fallthrough</span></code> argument to annotate intentional fall-through
between switch labels.  It can only be applied to a null statement placed at a
point of execution between any statement and the next switch label.  It is
common to mark these places with a specific comment, but this attribute is
meant to replace comments with a more strict annotation, which can be checked
by the compiler.  This attribute doesn&#8217;t change semantics of the code and can
be used wherever an intended fall-through occurs.  It is designed to mimic
control-flow statements like <code class="docutils literal"><span class="pre">break;</span></code>, so it can be placed in most places
where <code class="docutils literal"><span class="pre">break;</span></code> can, but only if there are no statements on the execution path
between it and the next switch label.</p>
<p>Here is an example:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="c1">// compile with -Wimplicit-fallthrough</span>
<span class="k">switch</span> <span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="mi">22</span><span class="o">:</span>
<span class="k">case</span> <span class="mi">33</span><span class="o">:</span>  <span class="c1">// no warning: no statements between case labels</span>
  <span class="n">f</span><span class="p">();</span>
<span class="k">case</span> <span class="mi">44</span><span class="o">:</span>  <span class="c1">// warning: unannotated fall-through</span>
  <span class="n">g</span><span class="p">();</span>
  <span class="p">[[</span><span class="n">clang</span><span class="o">::</span><span class="n">fallthrough</span><span class="p">]];</span>
<span class="k">case</span> <span class="mi">55</span><span class="o">:</span>  <span class="c1">// no warning</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">h</span><span class="p">();</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="n">i</span><span class="p">();</span>
    <span class="p">[[</span><span class="n">clang</span><span class="o">::</span><span class="n">fallthrough</span><span class="p">]];</span>
  <span class="p">}</span>
<span class="k">case</span> <span class="mi">66</span><span class="o">:</span>  <span class="c1">// no warning</span>
  <span class="n">p</span><span class="p">();</span>
  <span class="p">[[</span><span class="n">clang</span><span class="o">::</span><span class="n">fallthrough</span><span class="p">]];</span> <span class="c1">// warning: fallthrough annotation does not</span>
                          <span class="c1">//          directly precede case label</span>
  <span class="n">q</span><span class="p">();</span>
<span class="k">case</span> <span class="mi">77</span><span class="o">:</span>  <span class="c1">// warning: unannotated fall-through</span>
  <span class="n">r</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="pragma-clang-loop">
<h3><a class="toc-backref" href="#id113">#pragma clang loop</a><a class="headerlink" href="#pragma-clang-loop" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id42">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id42" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">clang</span> <span class="pre">loop</span></code> directive allows loop optimization hints to be
specified for the subsequent loop. The directive allows vectorization,
interleaving, and unrolling to be enabled or disabled. Vector width as well
as interleave and unrolling count can be manually specified. See
<a class="reference external" href="http://clang.llvm.org/docs/LanguageExtensions.html#extensions-for-loop-hint-optimizations">language extensions</a>
for details.</p>
</div>
<div class="section" id="pragma-unroll-pragma-nounroll">
<h3><a class="toc-backref" href="#id114">#pragma unroll, #pragma nounroll</a><a class="headerlink" href="#pragma-unroll-pragma-nounroll" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id43">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id43" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
</tr>
</tbody>
</table>
<p>Loop unrolling optimization hints can be specified with <code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">unroll</span></code> and
<code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">nounroll</span></code>. The pragma is placed immediately before a for, while,
do-while, or c++11 range-based for loop.</p>
<p>Specifying <code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">unroll</span></code> without a parameter directs the loop unroller to
attempt to fully unroll the loop if the trip count is known at compile time:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#pragma unroll</span>
<span class="k">for</span> <span class="p">(...)</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Specifying the optional parameter, <code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">unroll</span> <span class="pre">_value_</span></code>, directs the
unroller to unroll the loop <code class="docutils literal"><span class="pre">_value_</span></code> times.  The parameter may optionally be
enclosed in parentheses:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#pragma unroll 16</span>
<span class="k">for</span> <span class="p">(...)</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>

<span class="cp">#pragma unroll(16)</span>
<span class="k">for</span> <span class="p">(...)</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Specifying <code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">nounroll</span></code> indicates that the loop should not be unrolled:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#pragma nounroll</span>
<span class="k">for</span> <span class="p">(...)</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">unroll</span></code> and <code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">unroll</span> <span class="pre">_value_</span></code> have identical semantics to
<code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">clang</span> <span class="pre">loop</span> <span class="pre">unroll(full)</span></code> and
<code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">clang</span> <span class="pre">loop</span> <span class="pre">unroll_count(_value_)</span></code> respectively. <code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">nounroll</span></code>
is equivalent to <code class="docutils literal"><span class="pre">#pragma</span> <span class="pre">clang</span> <span class="pre">loop</span> <span class="pre">unroll(disable)</span></code>.  See
<a class="reference external" href="http://clang.llvm.org/docs/LanguageExtensions.html#extensions-for-loop-hint-optimizations">language extensions</a>
for further details including limitations of the unroll hints.</p>
</div>
</div>
<div class="section" id="calling-conventions">
<h2><a class="toc-backref" href="#id115">Calling Conventions</a><a class="headerlink" href="#calling-conventions" title="Permalink to this headline">¶</a></h2>
<p>Clang supports several different calling conventions, depending on the target
platform and architecture. The calling convention used for a function determines
how parameters are passed, how results are returned to the caller, and other
low-level details of calling a function.</p>
<div class="section" id="fastcall-gnu-fastcall-fastcall-fastcall">
<h3><a class="toc-backref" href="#id116">fastcall (gnu::fastcall, __fastcall, _fastcall)</a><a class="headerlink" href="#fastcall-gnu-fastcall-fastcall-fastcall" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id44">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id44" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>On 32-bit x86 targets, this attribute changes the calling convention of a
function to use ECX and EDX as register parameters and clear parameters off of
the stack on return. This convention does not support variadic calls or
unprototyped functions in C, and has no effect on x86_64 targets. This calling
convention is supported primarily for compatibility with existing code. Users
seeking register parameters should use the <code class="docutils literal"><span class="pre">regparm</span></code> attribute, which does
not require callee-cleanup.  See the documentation for <a class="reference external" href="http://msdn.microsoft.com/en-us/library/6xa169sk.aspx">__fastcall</a> on MSDN.</p>
</div>
<div class="section" id="ms-abi-gnu-ms-abi">
<h3><a class="toc-backref" href="#id117">ms_abi (gnu::ms_abi)</a><a class="headerlink" href="#ms-abi-gnu-ms-abi" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id45">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id45" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>On non-Windows x86_64 targets, this attribute changes the calling convention of
a function to match the default convention used on Windows x86_64. This
attribute has no effect on Windows targets or non-x86_64 targets.</p>
</div>
<div class="section" id="pcs-gnu-pcs">
<h3><a class="toc-backref" href="#id118">pcs (gnu::pcs)</a><a class="headerlink" href="#pcs-gnu-pcs" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id46">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id46" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>On ARM targets, this attribute can be used to select calling conventions
similar to <code class="docutils literal"><span class="pre">stdcall</span></code> on x86. Valid parameter values are &#8220;aapcs&#8221; and
&#8220;aapcs-vfp&#8221;.</p>
</div>
<div class="section" id="regparm-gnu-regparm">
<h3><a class="toc-backref" href="#id119">regparm (gnu::regparm)</a><a class="headerlink" href="#regparm-gnu-regparm" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id47">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id47" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>On 32-bit x86 targets, the regparm attribute causes the compiler to pass
the first three integer parameters in EAX, EDX, and ECX instead of on the
stack. This attribute has no effect on variadic functions, and all parameters
are passed via the stack as normal.</p>
</div>
<div class="section" id="stdcall-gnu-stdcall-stdcall-stdcall">
<h3><a class="toc-backref" href="#id120">stdcall (gnu::stdcall, __stdcall, _stdcall)</a><a class="headerlink" href="#stdcall-gnu-stdcall-stdcall-stdcall" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id48">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id48" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>On 32-bit x86 targets, this attribute changes the calling convention of a
function to clear parameters off of the stack on return. This convention does
not support variadic calls or unprototyped functions in C, and has no effect on
x86_64 targets. This calling convention is used widely by the Windows API and
COM applications.  See the documentation for <a class="reference external" href="http://msdn.microsoft.com/en-us/library/zxk0tw93.aspx">__stdcall</a> on MSDN.</p>
</div>
<div class="section" id="thiscall-gnu-thiscall-thiscall-thiscall">
<h3><a class="toc-backref" href="#id121">thiscall (gnu::thiscall, __thiscall, _thiscall)</a><a class="headerlink" href="#thiscall-gnu-thiscall-thiscall-thiscall" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id49">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id49" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>On 32-bit x86 targets, this attribute changes the calling convention of a
function to use ECX for the first parameter (typically the implicit <code class="docutils literal"><span class="pre">this</span></code>
parameter of C++ methods) and clear parameters off of the stack on return. This
convention does not support variadic calls or unprototyped functions in C, and
has no effect on x86_64 targets. See the documentation for <a class="reference external" href="http://msdn.microsoft.com/en-us/library/ek8tkfbw.aspx">__thiscall</a> on
MSDN.</p>
</div>
<div class="section" id="vectorcall-vectorcall-vectorcall">
<h3><a class="toc-backref" href="#id122">vectorcall (__vectorcall, _vectorcall)</a><a class="headerlink" href="#vectorcall-vectorcall-vectorcall" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id50">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id50" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>On 32-bit x86 <em>and</em> x86_64 targets, this attribute changes the calling
convention of a function to pass vector parameters in SSE registers.</p>
<p>On 32-bit x86 targets, this calling convention is similar to <code class="docutils literal"><span class="pre">__fastcall</span></code>.
The first two integer parameters are passed in ECX and EDX. Subsequent integer
parameters are passed in memory, and callee clears the stack.  On x86_64
targets, the callee does <em>not</em> clear the stack, and integer parameters are
passed in RCX, RDX, R8, and R9 as is done for the default Windows x64 calling
convention.</p>
<p>On both 32-bit x86 and x86_64 targets, vector and floating point arguments are
passed in XMM0-XMM5. Homogenous vector aggregates of up to four elements are
passed in sequential SSE registers if enough are available. If AVX is enabled,
256 bit vectors are passed in YMM0-YMM5. Any vector or aggregate type that
cannot be passed in registers for any reason is passed by reference, which
allows the caller to align the parameter memory.</p>
<p>See the documentation for <a class="reference external" href="http://msdn.microsoft.com/en-us/library/dn375768.aspx">__vectorcall</a> on MSDN for more details.</p>
</div>
</div>
<div class="section" id="consumed-annotation-checking">
<h2><a class="toc-backref" href="#id123">Consumed Annotation Checking</a><a class="headerlink" href="#consumed-annotation-checking" title="Permalink to this headline">¶</a></h2>
<p>Clang supports additional attributes for checking basic resource management
properties, specifically for unique objects that have a single owning reference.
The following attributes are currently supported, although <strong>the implementation
for these annotations is currently in development and are subject to change.</strong></p>
<div class="section" id="callable-when">
<h3><a class="toc-backref" href="#id124">callable_when</a><a class="headerlink" href="#callable-when" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id51">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id51" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Use <code class="docutils literal"><span class="pre">__attribute__((callable_when(...)))</span></code> to indicate what states a method
may be called in.  Valid states are unconsumed, consumed, or unknown.  Each
argument to this attribute must be a quoted string.  E.g.:</p>
<p><code class="docutils literal"><span class="pre">__attribute__((callable_when(&quot;unconsumed&quot;,</span> <span class="pre">&quot;unknown&quot;)))</span></code></p>
</div>
<div class="section" id="consumable">
<h3><a class="toc-backref" href="#id125">consumable</a><a class="headerlink" href="#consumable" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id52">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id52" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Each <code class="docutils literal"><span class="pre">class</span></code> that uses any of the typestate annotations must first be marked
using the <code class="docutils literal"><span class="pre">consumable</span></code> attribute.  Failure to do so will result in a warning.</p>
<p>This attribute accepts a single parameter that must be one of the following:
<code class="docutils literal"><span class="pre">unknown</span></code>, <code class="docutils literal"><span class="pre">consumed</span></code>, or <code class="docutils literal"><span class="pre">unconsumed</span></code>.</p>
</div>
<div class="section" id="param-typestate">
<h3><a class="toc-backref" href="#id126">param_typestate</a><a class="headerlink" href="#param-typestate" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id53">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id53" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>This attribute specifies expectations about function parameters.  Calls to an
function with annotated parameters will issue a warning if the corresponding
argument isn&#8217;t in the expected state.  The attribute is also used to set the
initial state of the parameter when analyzing the function&#8217;s body.</p>
</div>
<div class="section" id="return-typestate">
<h3><a class="toc-backref" href="#id127">return_typestate</a><a class="headerlink" href="#return-typestate" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id54">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id54" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">return_typestate</span></code> attribute can be applied to functions or parameters.
When applied to a function the attribute specifies the state of the returned
value.  The function&#8217;s body is checked to ensure that it always returns a value
in the specified state.  On the caller side, values returned by the annotated
function are initialized to the given state.</p>
<p>When applied to a function parameter it modifies the state of an argument after
a call to the function returns.  The function&#8217;s body is checked to ensure that
the parameter is in the expected state before returning.</p>
</div>
<div class="section" id="set-typestate">
<h3><a class="toc-backref" href="#id128">set_typestate</a><a class="headerlink" href="#set-typestate" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id55">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id55" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Annotate methods that transition an object into a new state with
<code class="docutils literal"><span class="pre">__attribute__((set_typestate(new_state)))</span></code>.  The new state must be
unconsumed, consumed, or unknown.</p>
</div>
<div class="section" id="test-typestate">
<h3><a class="toc-backref" href="#id129">test_typestate</a><a class="headerlink" href="#test-typestate" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id56">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id56" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Use <code class="docutils literal"><span class="pre">__attribute__((test_typestate(tested_state)))</span></code> to indicate that a method
returns true if the object is in the specified state..</p>
</div>
</div>
<div class="section" id="type-safety-checking">
<h2><a class="toc-backref" href="#id130">Type Safety Checking</a><a class="headerlink" href="#type-safety-checking" title="Permalink to this headline">¶</a></h2>
<p>Clang supports additional attributes to enable checking type safety properties
that can&#8217;t be enforced by the C type system.  Use cases include:</p>
<ul class="simple">
<li>MPI library implementations, where these attributes enable checking that
the buffer type matches the passed <code class="docutils literal"><span class="pre">MPI_Datatype</span></code>;</li>
<li>for HDF5 library there is a similar use case to MPI;</li>
<li>checking types of variadic functions&#8217; arguments for functions like
<code class="docutils literal"><span class="pre">fcntl()</span></code> and <code class="docutils literal"><span class="pre">ioctl()</span></code>.</li>
</ul>
<p>You can detect support for these attributes with <code class="docutils literal"><span class="pre">__has_attribute()</span></code>.  For
example:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#if defined(__has_attribute)</span>
<span class="cp">#  if __has_attribute(argument_with_type_tag) &amp;&amp; \</span>
<span class="cp">      __has_attribute(pointer_with_type_tag) &amp;&amp; \</span>
<span class="cp">      __has_attribute(type_tag_for_datatype)</span>
<span class="cp">#    define ATTR_MPI_PWT(buffer_idx, type_idx) __attribute__((pointer_with_type_tag(mpi,buffer_idx,type_idx)))</span>
<span class="cm">/* ... other macros ...  */</span>
<span class="cp">#  endif</span>
<span class="cp">#endif</span>

<span class="cp">#if !defined(ATTR_MPI_PWT)</span>
<span class="cp"># define ATTR_MPI_PWT(buffer_idx, type_idx)</span>
<span class="cp">#endif</span>

<span class="kt">int</span> <span class="nf">MPI_Send</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">count</span><span class="p">,</span> <span class="n">MPI_Datatype</span> <span class="n">datatype</span> <span class="cm">/*, other args omitted */</span><span class="p">)</span>
    <span class="n">ATTR_MPI_PWT</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="argument-with-type-tag">
<h3><a class="toc-backref" href="#id131">argument_with_type_tag</a><a class="headerlink" href="#argument-with-type-tag" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id57">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id57" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Use <code class="docutils literal"><span class="pre">__attribute__((argument_with_type_tag(arg_kind,</span> <span class="pre">arg_idx,</span>
<span class="pre">type_tag_idx)))</span></code> on a function declaration to specify that the function
accepts a type tag that determines the type of some other argument.
<code class="docutils literal"><span class="pre">arg_kind</span></code> is an identifier that should be used when annotating all
applicable type tags.</p>
<p>This attribute is primarily useful for checking arguments of variadic functions
(<code class="docutils literal"><span class="pre">pointer_with_type_tag</span></code> can be used in most non-variadic cases).</p>
<p>For example:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">fcntl</span><span class="p">(</span><span class="kt">int</span> <span class="n">fd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cmd</span><span class="p">,</span> <span class="p">...)</span>
    <span class="n">__attribute__</span><span class="p">((</span> <span class="n">argument_with_type_tag</span><span class="p">(</span><span class="n">fcntl</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="pointer-with-type-tag">
<h3><a class="toc-backref" href="#id132">pointer_with_type_tag</a><a class="headerlink" href="#pointer-with-type-tag" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id58">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id58" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Use <code class="docutils literal"><span class="pre">__attribute__((pointer_with_type_tag(ptr_kind,</span> <span class="pre">ptr_idx,</span> <span class="pre">type_tag_idx)))</span></code>
on a function declaration to specify that the function accepts a type tag that
determines the pointee type of some other pointer argument.</p>
<p>For example:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">MPI_Send</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">count</span><span class="p">,</span> <span class="n">MPI_Datatype</span> <span class="n">datatype</span> <span class="cm">/*, other args omitted */</span><span class="p">)</span>
    <span class="n">__attribute__</span><span class="p">((</span> <span class="n">pointer_with_type_tag</span><span class="p">(</span><span class="n">mpi</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="type-tag-for-datatype">
<h3><a class="toc-backref" href="#id133">type_tag_for_datatype</a><a class="headerlink" href="#type-tag-for-datatype" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id59">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id59" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Clang supports annotating type tags of two forms.</p>
<ul>
<li><p class="first"><strong>Type tag that is an expression containing a reference to some declared
identifier.</strong> Use <code class="docutils literal"><span class="pre">__attribute__((type_tag_for_datatype(kind,</span> <span class="pre">type)))</span></code> on a
declaration with that identifier:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="k">extern</span> <span class="k">struct</span> <span class="n">mpi_datatype</span> <span class="n">mpi_datatype_int</span>
    <span class="nf">__attribute__</span><span class="p">((</span> <span class="n">type_tag_for_datatype</span><span class="p">(</span><span class="n">mpi</span><span class="p">,</span><span class="kt">int</span><span class="p">)</span> <span class="p">));</span>
<span class="cp">#define MPI_INT ((MPI_Datatype) &amp;mpi_datatype_int)</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Type tag that is an integral literal.</strong> Introduce a <code class="docutils literal"><span class="pre">static</span> <span class="pre">const</span></code>
variable with a corresponding initializer value and attach
<code class="docutils literal"><span class="pre">__attribute__((type_tag_for_datatype(kind,</span> <span class="pre">type)))</span></code> on that declaration,
for example:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#define MPI_INT ((MPI_Datatype) 42)</span>
<span class="k">static</span> <span class="k">const</span> <span class="n">MPI_Datatype</span> <span class="n">mpi_datatype_int</span>
    <span class="n">__attribute__</span><span class="p">((</span> <span class="n">type_tag_for_datatype</span><span class="p">(</span><span class="n">mpi</span><span class="p">,</span><span class="kt">int</span><span class="p">)</span> <span class="p">))</span> <span class="o">=</span> <span class="mi">42</span>
</pre></div>
</div>
</li>
</ul>
<p>The attribute also accepts an optional third argument that determines how the
expression is compared to the type tag.  There are two supported flags:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">layout_compatible</span></code> will cause types to be compared according to
layout-compatibility rules (C++11 [class.mem] p 17, 18).  This is
implemented to support annotating types like <code class="docutils literal"><span class="pre">MPI_DOUBLE_INT</span></code>.</p>
<p>For example:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cm">/* In mpi.h */</span>
<span class="k">struct</span> <span class="n">internal_mpi_double_int</span> <span class="p">{</span> <span class="kt">double</span> <span class="n">d</span><span class="p">;</span> <span class="kt">int</span> <span class="n">i</span><span class="p">;</span> <span class="p">};</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">mpi_datatype</span> <span class="n">mpi_datatype_double_int</span>
    <span class="nf">__attribute__</span><span class="p">((</span> <span class="n">type_tag_for_datatype</span><span class="p">(</span><span class="n">mpi</span><span class="p">,</span> <span class="k">struct</span> <span class="n">internal_mpi_double_int</span><span class="p">,</span> <span class="n">layout_compatible</span><span class="p">)</span> <span class="p">));</span>

<span class="cp">#define MPI_DOUBLE_INT ((MPI_Datatype) &amp;mpi_datatype_double_int)</span>

<span class="cm">/* In user code */</span>
<span class="k">struct</span> <span class="n">my_pair</span> <span class="p">{</span> <span class="kt">double</span> <span class="n">a</span><span class="p">;</span> <span class="kt">int</span> <span class="n">b</span><span class="p">;</span> <span class="p">};</span>
<span class="k">struct</span> <span class="n">my_pair</span> <span class="o">*</span><span class="n">buffer</span><span class="p">;</span>
<span class="n">MPI_Send</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">MPI_DOUBLE_INT</span> <span class="cm">/*, ...  */</span><span class="p">);</span> <span class="c1">// no warning</span>

<span class="k">struct</span> <span class="n">my_int_pair</span> <span class="p">{</span> <span class="kt">int</span> <span class="n">a</span><span class="p">;</span> <span class="kt">int</span> <span class="n">b</span><span class="p">;</span> <span class="p">}</span>
<span class="k">struct</span> <span class="n">my_int_pair</span> <span class="o">*</span><span class="n">buffer2</span><span class="p">;</span>
<span class="n">MPI_Send</span><span class="p">(</span><span class="n">buffer2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">MPI_DOUBLE_INT</span> <span class="cm">/*, ...  */</span><span class="p">);</span> <span class="c1">// warning: actual buffer element</span>
                                                  <span class="c1">// type &#39;struct my_int_pair&#39;</span>
                                                  <span class="c1">// doesn&#39;t match specified MPI_Datatype</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">must_be_null</span></code> specifies that the expression should be a null pointer
constant, for example:</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cm">/* In mpi.h */</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">mpi_datatype</span> <span class="n">mpi_datatype_null</span>
    <span class="nf">__attribute__</span><span class="p">((</span> <span class="n">type_tag_for_datatype</span><span class="p">(</span><span class="n">mpi</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">must_be_null</span><span class="p">)</span> <span class="p">));</span>

<span class="cp">#define MPI_DATATYPE_NULL ((MPI_Datatype) &amp;mpi_datatype_null)</span>

<span class="cm">/* In user code */</span>
<span class="n">MPI_Send</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">MPI_DATATYPE_NULL</span> <span class="cm">/*, ...  */</span><span class="p">);</span> <span class="c1">// warning: MPI_DATATYPE_NULL</span>
                                                    <span class="c1">// was specified but buffer</span>
                                                    <span class="c1">// is not a null pointer</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="opencl-address-spaces">
<h2><a class="toc-backref" href="#id134">OpenCL Address Spaces</a><a class="headerlink" href="#opencl-address-spaces" title="Permalink to this headline">¶</a></h2>
<p>The address space qualifier may be used to specify the region of memory that is
used to allocate the object. OpenCL supports the following address spaces:
__generic(generic), __global(global), __local(local), __private(private),
__constant(constant).</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="n">__constant</span> <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="p">...;</span>

<span class="n">__generic</span> <span class="kt">int</span><span class="o">*</span> <span class="nf">foo</span><span class="p">(</span><span class="n">global</span> <span class="kt">int</span><span class="o">*</span> <span class="n">g</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">__local</span> <span class="kt">int</span><span class="o">*</span> <span class="n">l</span><span class="p">;</span>
  <span class="n">private</span> <span class="kt">int</span> <span class="n">p</span><span class="p">;</span>
  <span class="p">...</span>
  <span class="k">return</span> <span class="n">l</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>More details can be found in the OpenCL C language Spec v2.0, Section 6.5.</p>
<div class="section" id="constant-constant">
<h3><a class="toc-backref" href="#id135">__constant(constant)</a><a class="headerlink" href="#constant-constant" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id60">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id60" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The constant address space attribute signals that an object is located in
a constant (non-modifiable) memory region. It is available to all work items.
Any type can be annotated with the constant address space attribute. Objects
with the constant address space qualifier can be declared in any scope and must
have an initializer.</p>
</div>
<div class="section" id="generic-generic">
<h3><a class="toc-backref" href="#id136">__generic(generic)</a><a class="headerlink" href="#generic-generic" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id61">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id61" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The generic address space attribute is only available with OpenCL v2.0 and later.
It can be used with pointer types. Variables in global and local scope and
function parameters in non-kernel functions can have the generic address space
type attribute. It is intended to be a placeholder for any other address space
except for &#8216;__constant&#8217; in OpenCL code which can be used with multiple address
spaces.</p>
</div>
<div class="section" id="global-global">
<h3><a class="toc-backref" href="#id137">__global(global)</a><a class="headerlink" href="#global-global" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id62">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id62" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The global address space attribute specifies that an object is allocated in
global memory, which is accessible by all work items. The content stored in this
memory area persists between kernel executions. Pointer types to the global
address space are allowed as function parameters or local variables. Starting
with OpenCL v2.0, the global address space can be used with global (program
scope) variables and static local variable as well.</p>
</div>
<div class="section" id="local-local">
<h3><a class="toc-backref" href="#id138">__local(local)</a><a class="headerlink" href="#local-local" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id63">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id63" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The local address space specifies that an object is allocated in the local (work
group) memory area, which is accessible to all work items in the same work
group. The content stored in this memory region is not accessible after
the kernel execution ends. In a kernel function scope, any variable can be in
the local address space. In other scopes, only pointer types to the local address
space are allowed. Local address space variables cannot have an initializer.</p>
</div>
<div class="section" id="private-private">
<h3><a class="toc-backref" href="#id139">__private(private)</a><a class="headerlink" href="#private-private" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id64">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id64" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The private address space specifies that an object is allocated in the private
(work item) memory. Other work items cannot access the same memory area and its
content is destroyed after work item execution ends. Local variables can be
declared in the private address space. Function arguments are always in the
private address space. Kernel function arguments of a pointer or an array type
cannot point to the private address space.</p>
</div>
</div>
<div class="section" id="nullability-attributes">
<h2><a class="toc-backref" href="#id140">Nullability Attributes</a><a class="headerlink" href="#nullability-attributes" title="Permalink to this headline">¶</a></h2>
<p>Whether a particular pointer may be &#8220;null&#8221; is an important concern when working with pointers in the C family of languages. The various nullability attributes indicate whether a particular pointer can be null or not, which makes APIs more expressive and can help static analysis tools identify bugs involving null pointers. Clang supports several kinds of nullability attributes: the <code class="docutils literal"><span class="pre">nonnull</span></code> and <code class="docutils literal"><span class="pre">returns_nonnull</span></code> attributes indicate which function or method parameters and result types can never be null, while nullability type qualifiers indicate which pointer types can be null (<code class="docutils literal"><span class="pre">_Nullable</span></code>) or cannot be null (<code class="docutils literal"><span class="pre">_Nonnull</span></code>).</p>
<p>The nullability (type) qualifiers express whether a value of a given pointer type can be null (the <code class="docutils literal"><span class="pre">_Nullable</span></code> qualifier), doesn&#8217;t have a defined meaning for null (the <code class="docutils literal"><span class="pre">_Nonnull</span></code> qualifier), or for which the purpose of null is unclear (the <code class="docutils literal"><span class="pre">_Null_unspecified</span></code> qualifier). Because nullability qualifiers are expressed within the type system, they are more general than the <code class="docutils literal"><span class="pre">nonnull</span></code> and <code class="docutils literal"><span class="pre">returns_nonnull</span></code> attributes, allowing one to express (for example) a nullable pointer to an array of nonnull pointers. Nullability qualifiers are written to the right of the pointer to which they apply. For example:</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="c1">// No meaningful result when &#39;ptr&#39; is null (here, it happens to be undefined behavior).</span>
<span class="kt">int</span> <span class="nf">fetch</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">ptr</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="o">*</span><span class="n">ptr</span><span class="p">;</span> <span class="p">}</span>

<span class="c1">// &#39;ptr&#39; may be null.</span>
<span class="kt">int</span> <span class="nf">fetch_or_zero</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">ptr</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">ptr</span> <span class="o">?</span> <span class="o">*</span><span class="nl">ptr</span> <span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// A nullable pointer to non-null pointers to const characters.</span>
<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="nf">join_strings</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">strings</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>In Objective-C, there is an alternate spelling for the nullability qualifiers that can be used in Objective-C methods and properties using context-sensitive, non-underscored keywords. For example:</p>
<blockquote>
<div><div class="highlight-objective-c"><div class="highlight"><pre><span class="k">@interface</span> <span class="nc">NSView</span> : <span class="nc">NSResponder</span>
  <span class="o">-</span> <span class="p">(</span><span class="n">nullable</span> <span class="n">NSView</span> <span class="o">*</span><span class="p">)</span><span class="nl">ancestorSharedWithView</span><span class="p">:(</span><span class="n">nonnull</span> <span class="n">NSView</span> <span class="o">*</span><span class="p">)</span><span class="n">aView</span><span class="p">;</span>
  <span class="k">@property</span> <span class="p">(</span><span class="k">assign</span><span class="p">,</span> <span class="n">nullable</span><span class="p">)</span> <span class="n">NSView</span> <span class="o">*</span><span class="n">superview</span><span class="p">;</span>
  <span class="k">@property</span> <span class="p">(</span><span class="k">readonly</span><span class="p">,</span> <span class="n">nonnull</span><span class="p">)</span> <span class="bp">NSArray</span> <span class="o">*</span><span class="n">subviews</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
</div></blockquote>
<div class="section" id="nonnull">
<h3><a class="toc-backref" href="#id141">nonnull</a><a class="headerlink" href="#nonnull" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id65">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id65" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">nonnull</span></code> attribute indicates that some function parameters must not be null, and can be used in several different ways. It&#8217;s original usage (<a class="reference external" href="https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#Common-Function-Attributes">from GCC</a>) is as a function (or Objective-C method) attribute that specifies which parameters of the function are nonnull in a comma-separated list. For example:</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="k">extern</span> <span class="kt">void</span> <span class="o">*</span> <span class="nf">my_memcpy</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">)</span>
                <span class="n">__attribute__</span><span class="p">((</span><span class="n">nonnull</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)));</span>
</pre></div>
</div>
</div></blockquote>
<p>Here, the <code class="docutils literal"><span class="pre">nonnull</span></code> attribute indicates that parameters 1 and 2
cannot have a null value. Omitting the parenthesized list of parameter indices means that all parameters of pointer type cannot be null:</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="k">extern</span> <span class="kt">void</span> <span class="o">*</span> <span class="nf">my_memcpy</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">)</span>
                <span class="n">__attribute__</span><span class="p">((</span><span class="n">nonnull</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
<p>Clang also allows the <code class="docutils literal"><span class="pre">nonnull</span></code> attribute to be placed directly on a function (or Objective-C method) parameter, eliminating the need to specify the parameter index ahead of type. For example:</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="k">extern</span> <span class="kt">void</span> <span class="o">*</span> <span class="nf">my_memcpy</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">dest</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">nonnull</span><span class="p">)),</span>
                         <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">src</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">nonnull</span><span class="p">)),</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>Note that the <code class="docutils literal"><span class="pre">nonnull</span></code> attribute indicates that passing null to a non-null parameter is undefined behavior, which the optimizer may take advantage of to, e.g., remove null checks. The <code class="docutils literal"><span class="pre">_Nonnull</span></code> type qualifier indicates that a pointer cannot be null in a more general manner (because it is part of the type system) and does not imply undefined behavior, making it more widely applicable.</p>
</div>
<div class="section" id="returns-nonnull">
<h3><a class="toc-backref" href="#id142">returns_nonnull</a><a class="headerlink" href="#returns-nonnull" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id66">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id66" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">returns_nonnull</span></code> attribute indicates that a particular function (or Objective-C method) always returns a non-null pointer. For example, a particular system <code class="docutils literal"><span class="pre">malloc</span></code> might be defined to terminate a process when memory is not available rather than returning a null pointer:</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="k">extern</span> <span class="kt">void</span> <span class="o">*</span> <span class="nf">malloc</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">size</span><span class="p">)</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">returns_nonnull</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
<p>The <code class="docutils literal"><span class="pre">returns_nonnull</span></code> attribute implies that returning a null pointer is undefined behavior, which the optimizer may take advantage of. The <code class="docutils literal"><span class="pre">_Nonnull</span></code> type qualifier indicates that a pointer cannot be null in a more general manner (because it is part of the type system) and does not imply undefined behavior, making it more widely applicable</p>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id143">_Nonnull</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id67">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id67" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">_Nonnull</span></code> nullability qualifier indicates that null is not a meaningful value for a value of the <code class="docutils literal"><span class="pre">_Nonnull</span></code> pointer type. For example, given a declaration such as:</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">fetch</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">ptr</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>a caller of <code class="docutils literal"><span class="pre">fetch</span></code> should not provide a null value, and the compiler will produce a warning if it sees a literal null value passed to <code class="docutils literal"><span class="pre">fetch</span></code>. Note that, unlike the declaration attribute <code class="docutils literal"><span class="pre">nonnull</span></code>, the presence of <code class="docutils literal"><span class="pre">_Nonnull</span></code> does not imply that passing null is undefined behavior: <code class="docutils literal"><span class="pre">fetch</span></code> is free to consider null undefined behavior or (perhaps for backward-compatibility reasons) defensively handle null.</p>
</div>
<div class="section" id="null-unspecified">
<h3><a class="toc-backref" href="#id144">_Null_unspecified</a><a class="headerlink" href="#null-unspecified" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id68">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id68" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">_Null_unspecified</span></code> nullability qualifier indicates that neither the <code class="docutils literal"><span class="pre">_Nonnull</span></code> nor <code class="docutils literal"><span class="pre">_Nullable</span></code> qualifiers make sense for a particular pointer type. It is used primarily to indicate that the role of null with specific pointers in a nullability-annotated header is unclear, e.g., due to overly-complex implementations or historical factors with a long-lived API.</p>
</div>
<div class="section" id="nullable">
<h3><a class="toc-backref" href="#id145">_Nullable</a><a class="headerlink" href="#nullable" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils" id="id69">
<caption><span class="caption-text">Supported Syntaxes</span><a class="headerlink" href="#id69" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GNU</th>
<th class="head">C++11</th>
<th class="head">__declspec</th>
<th class="head">Keyword</th>
<th class="head">Pragma</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">_Nullable</span></code> nullability qualifier indicates that a value of the <code class="docutils literal"><span class="pre">_Nullable</span></code> pointer type can be null. For example, given:</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">fetch_or_zero</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">ptr</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>a caller of <code class="docutils literal"><span class="pre">fetch_or_zero</span></code> can provide null.</p>
</div>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="AutomaticReferenceCounting.html">Objective-C Automatic Reference Counting (ARC)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="CrossCompilation.html">Cross-compilation using Clang</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2007-2015, The Clang Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>